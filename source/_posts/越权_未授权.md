---
layout:     post   				    # 使用的布局（不需要改）
title:      越权/未授权 				    # 标题 
categories: SRC                        # 分类
date:       2024-12-03 				# 时间
author:     z1 						# 作者
catalog: true 						# 是否归档
tags:								# 标签
    - src
    - 逻辑漏洞
description: 对越权/未授权漏洞挖掘思路的总结
---
# 越权漏洞

## 水平越权

1. 考虑 ***增删改查*** 四个功能点都看一下
2. 有些地方又筛选，也要注意下
3. bp里面开启自动替换，设置规则，一般就是 `false -> true`

## 垂直越权

### 1. 获取账号

1. 手动创建账号

   创建两个不同权限的账号

2. 没有创建账号的功能

   对系统进行越权

### 2. 测试

1. 子主账号场景

   记录主账号关键操作的请求包，再替换鉴权字段值为子账号

2. 单账号场景

## 401 绕过

- 路径中双写斜杠 `/` 
- [GitHub - 0x727/BypassPro: 401绕过自动化bp插件](https://github.com/0x727/BypassPro)

## 未授权测试思路

### 1. 响应改请求

有些情况下响应数据包中会返回json格式的数据，这时候可以把响应体中的数据放到请求体中，修改其中部分字段值，测试是否可以读取数据

### 2. 修改响应头中的鉴权字段值

如 set-cookie 或者 userid(**这个userid是出现在响应头中的**)

