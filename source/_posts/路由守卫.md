---
title: 路由守卫
author: z1
date: 2025-09-26 11:07:44
catalog: true
tags: 
  - 前端技巧
  - vue
description: 前端权限校验——路由守卫
---

# 1. 回顾——权限列表

## 特殊半开放

原始返回包

```http
200 
xxxx

{
  "id":1,
  "name":"庆尘",
  "menus":[{
    {
       title: "首页",
      "url":"/index",
    }
  ],
  "sex":1
  xxxx
}
```

> 1. 在js中搜索`/index`
> 2. 发现很多功能性接口，如`/usermanage`
> 3. 抓响应，该包，发现页面没有变化
> 4. 直接访问`/usermanage`,返回401/403/404

> ::: important
>
>  这里就是半开放路由的特殊之处，此处存在路由守卫，正确的测试方式是首先抓取相应包修改，再去访问`/usermanage`,成功越权
>
> :::

修改返回包如下

```http
xxx.com/usermange

200 
xxxx

{
  "id":1,
  "name":"庆尘",
  "menus":[{
    {
       title: "首页",
      "url":"/index",
    },
    {
       title: "用户管理",
      "url":"/usermange",
    }
  ],
  "sex":1
  xxxx
}
```

# 2. 路由守卫

[特殊半开放](# 1. 回顾——权限列表) 的实质就是路由守卫——前端路由鉴权，用来控制用户所能访问的页面

## 1. 分类

1. 基于缓存

   > 基于缓存的情况很大情况存在于这样一种场景——访问一个页面或者路由，发现被拦了，或者存在鉴权，但是观察bp却没有获取权限的数据包发出

2. 从后端返回token

